<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="/assets/css/style.css?v=fe79d28833fd616899c9ebe59c75fd7aed8c9002">
    <link rel="stylesheet" type="text/css" href="/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Rustify Your Python Project (Now) | rustify-your-projects</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Rustify Your Python Project (Now)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Data toolbox and thoughts. Edited by Sebestyen" />
<meta property="og:description" content="Data toolbox and thoughts. Edited by Sebestyen" />
<link rel="canonical" href="http://localhost:4000/" />
<meta property="og:url" content="http://localhost:4000/" />
<meta property="og:site_name" content="rustify-your-projects" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Rustify Your Python Project (Now)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","description":"Data toolbox and thoughts. Edited by Sebestyen","headline":"Rustify Your Python Project (Now)","name":"rustify-your-projects","url":"http://localhost:4000/"}</script>
<!-- End Jekyll SEO tag -->

    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7Z0VRN7P3Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7Z0VRN7P3Q');
</script>

<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Rustify Your Python Project (Now)</h1>
          <h2> </h2>
        </header>
        <section id="downloads" class="clearfix">
          
	
        </section>
        <hr>
        <section id="main_content">
          <style>
  .home-link {
    position: fixed;
    top: 10px;
    left: 10px;
    z-index: 1000;
    display: inline-block;
    background-color: #FBFBF7;
    color: #000;
    font-family: "Proxima Nova", sans-serif;
    font-size: 16px;
    padding: 8px 16px;
    text-decoration: none;
    border-radius: 8px;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.1);
    transition: background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
  }

  .home-link:hover {
    background-color: #eee;
    color: #000;
    box-shadow: 2px 2px 12px rgba(0, 0, 0, 0.2);
  }

  @media screen and (max-width: 768px) {
    .home-link {
      top: 10px;
      right: 10px;
      left: auto;
    }
  }
</style>

<a href="https://datolya.github.io" class="home-link">Home</a>


<article style="background-color: rgb(245, 248, 252); padding: 30px; border-radius: 16px; color: #333333; line-height: 1.6; text-align: justify; text-align-last: left; hyphens: none; word-break: keep-all; overflow-wrap: normal; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08); max-width: 900px; margin: 0 auto;">
    
    
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    üìä August 19th, 2025  üìù authored by Sebesty√©n Gergely 
</code></pre></div></div>

<p>It‚Äôs not immediately obvious why one should spend time on the <em>perfect</em> repository setup.
Especially in Data, it is often cumbersome to sit down with your maths genius analyst colleagues and start explaining virtual 
environments, the kind of Poetry only software engineers appreciate, why they should give a damn about linting, 
let alone style formatting and type hints.</p>

<p>Luckily, Rust exists, and people exist who build formidable tools with it for Python.
‚ÄúRustifying‚Äù your repository means making use of those tools to cover all of the above with barely more than a few clicks.
This way, even non-technical people will enjoy the speed and simplicity of the tech setup journey.</p>

<p>PART I. The uv radiation is strong</p>

<p><code class="language-plaintext highlighter-rouge">uv</code> <a href="https://docs.astral.sh/uv/">self-identifies</a> as a <strong>fast Python package and project manager</strong>. The simplicity of this
little tagline foreshadows what it feels like working with the tool. They also attach a neat figure to prepare us for 
the speed that awaits:</p>

<div style="text-align: center; margin: 20px 0;">
  <img src="assets/uv_chart.png" alt="Alt text" style="max-width: 100%; height: auto;" />
</div>

<p>As a Big Data Engineer, throughout my career I‚Äôve come across a myriad of developers who have known about this speed 
improvement for ages. Yet many of them never took the opportunity to test the tool for themselves, let alone roll it 
out into production workflows.</p>

<p>Their oversight becomes even worse when you look at uv‚Äôs second superpower¬†¬ª <strong>automatic version resolution</strong>. 
Unlike with Poetry, we won‚Äôt need to pin down every single package version ourselves. Instead, it‚Äôs possible to define a generic set of Python packages and leave it to the package manager to reconcile their latest compatible versions.</p>

<p>Let‚Äôs see in detail how to ride the wave of the Rust revolution.</p>

<p>Step zero: install the tool. Either install with Homebrew (for Mac)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew install uv
</code></pre></div></div>
<p>‚Ä¶ or simply use the official installation guide:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -LsSf https://astral.sh/uv/install.sh | sh
</code></pre></div></div>

<p>Now we‚Äôre ready to deploy uv to set up our virtual environment. This will be similar to any venv we‚Äôve already been adding 
to our Python projects, only an order of magnitude faster and with bulletproof computational power.</p>

<p>To generate the venv, simply call:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>uv venv --python &lt;version&gt;
</code></pre></div></div>

<p>Now let‚Äôs assume we‚Äôre starting fresh.</p>

<p>Assume we‚Äôre working from scratch. We know the packages our project needs but don‚Äôt care about their exact version.
It shouldn‚Äôt take significant research time to understand how different packages currently work together - let <code class="language-plaintext highlighter-rouge">uv</code> 
figure out dependencies and install the latest compatible versions!</p>

<p>To do that, we produce a <code class="language-plaintext highlighter-rouge">requirements.in</code> file. 
Let‚Äôs go with a few notorious heavy hitters that normally take ages and drain a lot of computation in Poetry:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pyspark
pandas
numpy
pydantic
sqlalchemy
pyarrow
apache-airflow
boto3
requests
ruff
</code></pre></div></div>

<p>Here comes the trick: <code class="language-plaintext highlighter-rouge">uv</code> defines the most recent compatible versions of our desired shopping list, and
generates the <code class="language-plaintext highlighter-rouge">.txt</code> file on its own. It‚Äôs worth noting that uv treats the .txt <strong>as the lockfile itself</strong>. 
There‚Äôs no need for a separate lockfile in the structure, like we‚Äôre used to with Poetry.</p>

<p>Generate the standard .txt:</p>
<pre><code class="language-commandline">uv pip compile requirements.in -o requirements.txt
</code></pre>

<p>Now we‚Äôre ready to install the required packages, routing through Rust as our system-level resolver:</p>
<pre><code class="language-commandline">uv pip install -r requirements.txt
</code></pre>

<p>You‚Äôll notice this process wraps up in well under a minute. This is despite our having used some of the most feared 
data-intensive packages. At this point, we now have a functional working environment. We‚Äôre ready to start creating things üõ†Ô∏è</p>

<p>Now assume we‚Äôve progressed in our work. Some living and breathing code has been added to the repository. Soon, it will 
be easier to maintain code with some common functional and style requirements. There‚Äôs an ample and relatively standard 
set of tools (pylint, mypy, flake8, black, pystrict ‚Ä¶) developed for this purpose. For now, let‚Äôs limit our attention to 
another product of Astral, the inventors of uv: <code class="language-plaintext highlighter-rouge">ruff</code>.</p>

<p>Let‚Äôs fetch it first, then see what it‚Äôs capable of:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew install ruff
</code></pre></div></div>
<p>‚Ä¶ or go with your preferred installation method. Now, these three short words give us lightning-speed iteration through 
even the largest repositories. This gives us an important lifeline to weed out blatant coding errors:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ruff check .
</code></pre></div></div>
<p>To exclude single lines from the checks, use: <code class="language-plaintext highlighter-rouge"># noqa</code> <br />
To fix detected errors automatically, use: <code class="language-plaintext highlighter-rouge">ruff check . --fix</code></p>

<p>Next, we might as well go ahead and format the codebase according to PEP 8 standards - with a bit of leeway for personal preference.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ruff format .
</code></pre></div></div>

<p>To exclude code sections from the checks,<br />
start the block with <code class="language-plaintext highlighter-rouge"># fmt: off</code> <br />
‚Ä¶ and close it with <code class="language-plaintext highlighter-rouge"># fmt: on</code> <br />
‚Ä¶ for single line exclusions, use <code class="language-plaintext highlighter-rouge"># fmt: skip</code></p>

<p>Finally, let‚Äôs manage <code class="language-plaintext highlighter-rouge">ruff</code> precisely. By adding a ruff.toml file in the python root repository, we can specifically 
control the behaviour of both our linting and formatting workflows.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>line-length = 120

[lint]
ignore = [
  # Specific error codes to ignore
]
</code></pre></div></div>

<p>Finally, consider installing ruff as the preferred linter in the CI/CD workflow of the codebase, be it CircleCI, GitHub 
Actions, or another tool of preference. AstralDocs have already released some promising tools in this respect, to integrate 
with our CI/CD <code class="language-plaintext highlighter-rouge">.yml</code> file in just a few simple lines of code.</p>

<p>And that‚Äôs it. Over and done with. Project rustified.</p>


</article>

<footer class="custom-footer" style="margin-top: 50px; text-align: center;">
  <p><span style="font-weight: 310;">Copyright &copy; 2025 Sebesty√©n Gergely</span></p>
</footer>

<style>
  footer:not(.custom-footer) {
    display: none;
  }

  body {
    background: linear-gradient(to bottom right, rgba(255, 255, 255, 0.8), rgba(230, 230, 255, 0.8)),
                url('https://images.unsplash.com/photo-1535909339361-9b77c7b1c77f?auto=format&fit=crop&w=1950&q=80');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    font-family: "Proxima Nova", sans-serif;
  }

  .wrapper, .container, #container, #content, main, body > div {
    background: transparent !important;
    box-shadow: none !important;
    border: none !important;
  }

  article {
    background-color: rgb(245, 248, 252);
    color: #333;
    border-radius: 16px;
    padding: 30px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
    max-width: 900px;
    margin: 0 auto;
  }

  footer.custom-footer p {
    font-weight: 300;
    font-size: 14px;
    color: #777;
  }

  footer.custom-footer p span {
    font-weight: 310;
    color: #333;
  }
</style>

        </section>

        <footer>
        
          rustify-your-projects is maintained by <a href="https://github.com/datolya">datolya</a><br>
        
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

      </div>
    </div>
  </body>
</html>
